<!DOCTYPE html>
<html manifest="proxemy-fighter-3d.appcache">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no" />
        <title>Proxemy fighter 3D</title>
        <link rel="stylesheet" media="screen" href="style.css" />
    </head>
    <body>
        <div id="game-start" class="front-screen">
            <div class="center-box">
                <h1>Proxemy fighter 3D</h1>

                <p class="message">Loading...</p>

                <button name="help">Help</button>
            </div>
        </div>

        <div id="game-end" class="front-screen">
            <div class="center-box">
                <p class="message"></p>

                <p>Click / touch screen to restart</p>
            </div>
        </div>

        <div id="score">
            0
        </div>

        <div id="cache-update">
            <p>An update is available! Do you want to reload now?</p>
            <ul>
                <li><a href="/">Yes</a></li>
                <li><a href="">No</a></li>
            </ul>
        </div>

        <svg id="touch-joystick" viewBox="-2.5 -2.5 5 5">
            <circle class="joystick-base" cx="0" cy="0" r="1" />
            <circle class="joystick-head" cx="0" cy="0" r="1.5" />
        </svg>

        <svg id ="lifebar" viewBox="0 0 102 20">
            <rect class="lifebar-bg" x="0" y="0" width="102" height="20" rx="5" ry="5"/>
            <rect class="lifebar-bar" x="1" y="1" width="100" height="18" rx="5" ry="5"/>
        </svg>

        <svg id="sights" viewBox="-35 -20 70 40">
            <polyline class="sights-center" points="-5,-2 -5,-5 5,-5 5,-2"/>
            <polyline class="sights-center" points="-5,2 -5,5 5,5 5,2"/>
            <polyline class="sights-box" points="-15,-6 -15,-10 -10,-10"/>
            <polyline class="sights-box" points="-15,6 -15,10 -10,10"/>
            <polyline class="sights-box" points="15,-6 15,-10 10,-10"/>
            <polyline class="sights-box" points="15,6 15,10 10,10"/>
            <polyline class="sights-lines" points="-32,0 -20,0"/>
            <polyline class="sights-lines" points="32,0 20,0"/>
            <polyline class="sights-lines" points="0,-18 0,-12"/>
            <polyline class="sights-lines" points="0,18 0,12"/>
        </svg>

        <svg id="fullscreen-button" viewBox="0 0 1 1">
            <rect class="outer" x="0" y="0" width="1" height="1" rx="0.3" ry="0.3" />
            <rect class="inner" x="0.1" y="0.1" width="0.8" height="0.8" rx="0.3" ry="0.3" />
        </svg>

        <div class="command-help keyboard front-screen">
            <div class="center-box">
                <table>
                    <tr>
                        <td>
                            <svg id="arrow-keys"  class="medium-screen-only" viewBox="0 0 310 205">
                                <rect x="0" y="105" width="100" height="100"
                                      rx="10" ry="10"
                                      fill="white" />
                                <rect x="105" y="105" width="100" height="100"
                                      rx="10" ry="10"
                                      fill="white" />
                                <rect x="210" y="105" width="100" height="100"
                                      rx="10" ry="10"
                                      fill="white" />
                                <rect x="105" y="0" width="100" height="100"
                                      rx="10" ry="10"
                                      fill="white" />

                                <text x="50" y="165"
                                      font-size="40"
                                      text-anchor="middle">
                                    &larr;
                                </text>

                                <text x="155" y="165"
                                      font-size="40"
                                      text-anchor="middle">
                                    &darr;
                                </text>

                                <text x="260" y="165"
                                      font-size="40"
                                      text-anchor="middle">
                                    &rarr;
                                </text>

                                <text x="155" y="65"
                                      font-size="40"
                                      text-anchor="middle">
                                    &uarr;
                                </text>

                            </svg>
                        </td>
                        <td>
                            <svg id="mouse"  class="medium-screen-only" viewBox="0 0 1 2">
                                <rect x="0" y="0" width="1" height="2"
                                      stroke="black"
                                      stroke-width="0.02"
                                      fill="white" />

                                <rect x="0" y="0" width="0.5" height="0.7"
                                      stroke="black"
                                      stroke-width="0.02"
                                      fill="red" />

                                <rect x="0.5" y="0" width="0.5" height="0.7"
                                      stroke="black"

                                      stroke-width="0.02"
                                      fill="white" />
                            </svg>
                        </td>
                    </tr>
                    <tr>
                        <td>Move</td>
                        <td>Aim - shoot</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="command-help touch front-screen">
            <div class="center-box">
                <svg id="touch-screen-left" viewBox="0 0 21 10">
                    <rect x="0" y="0" width="21" height="10"
                          rx="0.5" ry="0.5"
                          fill="rgb(20, 20, 20)" />

                    <rect x="20.1" y="4.5" width="0.2" height="1"
                          rx="0.05" ry="0.05"
                          stroke="white"
                          stroke-width="0.05" />

                    <rect x="0.5" y="0.5" width="19" height="9"
                          rx="0.5" ry="0.5"
                          fill="rgb(20, 20, 100)"
                          stroke="white"
                          stroke-width="0.1"/>

                    <line x1="10" y1="0.5"
                          x2="10" y2="9.5"
                          stroke="white"
                          stroke-width="0.1" />

                    <rect x="0.5" y="0.5" width="9.5" height="9"
                          fill="white"
                          opacity="0.2" />

                    <circle cx="3" cy="7"
                            r="1.1"
                            fill="red" />

                    <circle cx="3" cy="7"
                            r="1.7"
                            fill="none"
                            stroke="red"
                            stroke-width="0.2" />



                    <circle cx="17" cy="7"
                            r="1.1"
                            fill="red" />

                    <circle cx="17" cy="7"
                            r="1.7"
                            fill="none"
                            stroke="red"
                            stroke-width="0.2" />

                    <text x="1" y="2"
                          stroke="white" fill="white"
                          stroke-width="0.05"
                          font-size="1.2">
                        Move
                    </text>


                    <text x="13" y="2"
                          stroke="white" fill="white"
                          stroke-width="0.05"
                          font-size="1.2">
                        Aim - shoot
                    </text>
                </svg>
            </div>
        </div>

	    <script type="x-shader/x-vertex" id="sky-vertex">
	        varying vec3 vWorldPosition;
	 
	        void main() {
	            vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
	            vWorldPosition = worldPosition.xyz;
	            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	        }
	    </script>
	 
	    <script type="x-shader/x-fragment" id="sky-fragment">
	        uniform vec3 topColor;
	        uniform vec3 bottomColor;
	        uniform float offset;
	        uniform float exponent;
	      
	        varying vec3 vWorldPosition;
	      
	        void main() {
	            float h = normalize( vWorldPosition + offset ).y;
	            gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( h, exponent ), 0.0 ) ), 1.0 );
	        }
        </script>
        
        <script src="jspm_packages/babel-polyfill.js"></script>
        <script src="jspm_packages/system.js"></script>
        <script src="config.js"></script>
        <script>
            System.import('src/main');
        </script>
    </body>
</html>
